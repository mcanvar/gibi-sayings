<!doctype html>
<html class="w-full h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.ico" type="image/x-icon"/>
    <title>Rasgele gibi sözü üreteci</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    keyframes: {
                        'fade-in-down': {
                            '0%': {
                                opacity: '0',
                                transform: 'translateY(-10px)'
                            },
                            '100%': {
                                opacity: '1',
                                transform: 'translateY(0)'
                            },
                        }
                    },
                    animation: {
                        'fade-in-down': 'fade-in-down 0.5s ease-out'
                    }
                },
            },
        }
    </script>
</head>
<body class="w-full h-full">
<div class="bg-blue-300 bg-[url('/gibi-sayings/example/poster.webp')] bg-cover w-full h-full flex justify-center items-center">
    <div id="card" class="rounded-lg bg-white w-3/4 md:w-2/4 p-2 md:p-4 grid grid-cols-2 animate-fade-in-down">
        <div class="text-left flex col-span-2">
            <span class="text-4xl md:text-6xl font-bold pr-2">“</span>
            <p id="saying" class="text-xl md:text-2xl mt-2"></p>
        </div>
        <div class="flex justify-end col-span-2">
            <p id="saidByAt" class="text-xs md:text-sm leading-2 text-gray-500"></p>
        </div>
        <div class="flex justify-end col-span-2">
            <a id="twitter_button" href="#" target="_blank"
               class="p-2 mt-4 mr-2 text-xl md:text-2xl rounded-lg hover:text-blue-400 place-self-end">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-6" fill="none" viewBox="0 0 24 24"
                     stroke="currentColor">
                    <path d="M6.29 18.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0020 3.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.073 4.073 0 01.8 7.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 010 16.407a11.616 11.616 0 006.29 1.84"></path>
                </svg>
            </a>
            <button onclick="newSaying()"
                    class="p-2 mt-4 text-xl md:text-2xl rounded-lg hover:text-gray-500 place-self-end">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                     stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                </svg>
            </button>
        </div>
    </div>
</div>

<p class="fixed bottom-0 left-0 text-white p-2 text-xs text-center w-full">
    <a href="https://github.com/mcanvar/gibi-sayings"
       title="API project that provide Turkish sayings said in gibi Show.">Kaynak
        kodu</a> şöbiyet vaktinden feragat edilerek
    GitHub ❤️ üzerinden paylaşılmıştır.
    <a href="https://mcanvar.github.io/gibi-sayings/docs/"
       title="API dökümantasyonu.">API dökümantasyonu</a>.
</p>

<script>
    function newSaying() {
        var card = document.getElementById('card');
        var saying = document.getElementById('saying');
        var saidByAt = document.getElementById('saidByAt');
        var link = document.getElementById('twitter_button');

        card.style.display = 'none';

        fetch("/gibi-sayings/v1.0.0/sayings.json")
            .then(function (response) {
                return response.json()
            })
            .then(function (sayings) {
                var randomIndex = Math.floor((Math.random() * sayings.length));
                var info = sayings[randomIndex].saidBy + ' - ' +
                    sayings[randomIndex].episodeName;
                var title =
                    'S' + sayings[randomIndex].season +
                    'B' + sayings[randomIndex].episode;
                title += sayings[randomIndex].saidAt.length ? ', ' + sayings[randomIndex].saidAt : '';

                saying.innerText = sayings[randomIndex].saying;
                link.setAttribute('title', 'Twitter\'da Paylaş');
                link.setAttribute(
                    'href',
                    'https://twitter.com/intent/tweet?hashtags=quotes&related=freecodecamp&text=' +
                        encodeURIComponent(
                            '"' + sayings[randomIndex].saying + '" #gibi ' + info
                        )
                );

                saidByAt.innerText = info;
                saidByAt.title = title;
                card.style.display = 'grid';
            });
    }

    window.addEventListener('DOMContentLoaded', function () {
        newSaying();
    });
</script>
</body>
</html>